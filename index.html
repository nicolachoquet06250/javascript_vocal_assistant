<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>API JavaScript de reconnaissence vocale</title>
    <script src="artyom/artyom.window.js"></script>
</head>
<body>
    Commandes disponnibles:
    <ul>
        <li>Dis Bonjour</li>
        <li>Répète après moi "une phrase"</li>
        <li>Comment tu t'appel</li>
        <li>Ton nom est "un nom"</li>
    </ul>
    <hr>
    <h2>Logs</h2>
    <div>
        <ul id="logs"></ul>
    </div>
</body>
<script>
    window.onload = () => {
    	function writeInLogs(sentence) {
		    document.querySelector('#logs').innerHTML += `<li>${sentence}</li>`;
	    }

	    var Jarvis = new Artyom();

	    Jarvis.addCommands([ {
            indexes: [ "Dis bonjour" ],
            action: () => writeInLogs`bonjour`
        }, {
	    	smart: true,
            indexes: [ "Répète après moi *" ],
            action: (i, sentence) => writeInLogs(sentence)
        }, {
		    smart: true,
		    indexes: [ "Tu t'appelles *" ],
		    action: (i, bot_name) => {
			    window.bot_name = bot_name;
			    writeInLogs`très bien je m'en rappelerais`;
		    }
        }, {
		    indexes: [ "Comment tu t'appelles" ],
		    action: () => writeInLogs(window.bot_name ? "Je m'appelle " + window.bot_name : "Je ne sais pas comment je m'appel. " +
                "vous ne m'avez pas encore donné de nom.")
	    } ]);

	    Jarvis.initialize({
		    lang:"fr-FR",
		    debug: false,
		    continuous: true,
            listen: true,
            volume: 1
	    });
    };
</script>
</html>